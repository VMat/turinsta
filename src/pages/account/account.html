<!--
  Generated template for the AccountPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-content *ngIf="user" padding>
  <ion-item class="text-with-ellipsis">
    <ion-avatar class="out-activity-avatar" item-start>
      <img src="{{user.avatar}}"/>
    </ion-avatar>
    <p>{{user.followers.length}} seguidores / {{user.followedes.length}} seguidos</p>
    <h2 class="publication-important-text">{{user.username}}</h2>
    <p item-right>{{user.score | number:'1.0-1' }} <ion-icon name="star" color="star"></ion-icon>
      / {{user.publications.length}} <ion-icon name="images" color="secondary"></ion-icon>
    </p>
  </ion-item>
  <ion-segment [(ngModel)]="show.section" color="secondary">
    <ion-segment-button value="PUBLICATIONS">
      <ion-icon name="images"></ion-icon>
    </ion-segment-button>
    <ion-segment-button value="FAVORITES" (click)="getFavorites()">
      <ion-icon name="heart"></ion-icon>
    </ion-segment-button>
  </ion-segment>
  <div [ngSwitch]="show.section">
    <ion-list *ngSwitchCase="'PUBLICATIONS'">
      <ion-item *ngFor="let publication of publications">
        <ion-thumbnail item-start>
          <img src="{{publication.images[0].url}}"/>
        </ion-thumbnail>
        <p class="publication-important-text">{{publication.places[0].name}}</p>
        <p>{{publication.assessments.length}} <ion-icon name="eye" color="secondary"></ion-icon></p>
        <p>{{publication.score | number:'1.0-1' }} <ion-icon name="star" color="star"></ion-icon></p>
        <p>{{publication.followers.length}} <ion-icon name="heart" color="danger"></ion-icon></p>
        <p>{{publication.experienceIds.length}} <ion-icon name="ios-paper" color="primary" isActive="false"></ion-icon></p>
        <p>{{publication.commentIds.length}} <ion-icon name="ios-text" color="primary" isActive="false"></ion-icon></p>
      </ion-item>
    </ion-list>
    <ion-list *ngSwitchCase="'FAVORITES'">
      <ion-item *ngFor="let favorite of favorites">
        <ion-thumbnail item-start>
          <img src="{{favorite.images[0].url}}"/>
        </ion-thumbnail>
        <p class="publication-important-text">{{favorite.places[0].name}}</p>
      </ion-item>
    </ion-list>
  </div>
</ion-content>
