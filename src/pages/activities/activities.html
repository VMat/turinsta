<!--
  Generated template for the ActivitiesPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-toolbar>
    <ion-segment [(ngModel)]="directionFilter.value" color="secondary">
      <ion-segment-button value="IN" (click)="getInActivities()">
        <ion-icon name="cloud-download"></ion-icon>
      </ion-segment-button>
      <ion-segment-button value="OUT" (click)="getOutActivities()">
        <ion-icon name="cloud-upload"></ion-icon>
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>
<ion-content padding>
  <div [ngSwitch]="directionFilter.value">
    <ion-list *ngSwitchCase="'IN'">
      <ion-item *ngFor="let activity of activities | containsFilter:{'key':'direction', 'value':'IN'}">
        <ion-avatar item-start>
          <img src="{{activity.relatedUsers[0].avatar}}">
        </ion-avatar>
        <p class="publication-important-text" text-wrap>{{getActivityCaption(activity.caption, activity.relatedUsers[0].username,activity.params)}}</p>
        <ion-note>{{getAntiquity(activity.timestamps.created)}}</ion-note>
        <ion-thumbnail item-end>
          <img *ngIf="activity.publication" src="{{activity.publication.images[0].url}}">
        </ion-thumbnail>
      </ion-item>
      <ion-icon *ngIf="emptyActivities('IN')" name="sad" style="font-size: xx-large" color="light"></ion-icon>
    </ion-list>
    <ion-list *ngSwitchCase="'OUT'">
      <ion-item *ngFor="let activity of activities | containsFilter:{'key':'direction', 'value':'OUT'}">
        <p class="publication-important-text" text-wrap>{{getActivityCaption(activity.caption,activity.relatedUsers? activity.relatedUsers[0].username : '',activity.params)}}</p>
        <ion-note>{{getAntiquity(activity.timestamps.created)}}</ion-note>
        <ion-thumbnail item-end>
          <img *ngIf="activity.publication" src="{{activity.publication.images[0].url}}">
        </ion-thumbnail>
      </ion-item>
      <ion-icon *ngIf="emptyActivities('OUT')" name="sad" style="font-size: xx-large" color="light"></ion-icon>
    </ion-list>
  </div>
</ion-content>
